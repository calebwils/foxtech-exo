

import React, { createContext, useContext, useState, ReactNode, useCallback } from 'react';

export type Language = 'en' | 'fr';
export type Currency = 'USD' | 'EUR' | 'XOF' | 'NGN' | 'GHS';

interface I18nContextType {
  language: Language;
  currency: Currency;
  setLanguage: (lang: Language) => void;
  setCurrency: (curr: Currency) => void;
  t: (key: string) => string;
  formatPrice: (amount: number) => string;
}

const RATES: Record<Currency, number> = {
  USD: 1,
  EUR: 0.92,
  XOF: 610, // West African CFA franc
  NGN: 1600, // Nigerian Naira
  GHS: 15.8 // Ghanaian Cedi
};

const SYMBOLS: Record<Currency, string> = {
  USD: '$',
  EUR: '€',
  XOF: 'FCFA ',
  NGN: '₦',
  GHS: '₵'
};

const TRANSLATIONS: Record<Language, Record<string, string>> = {
  en: {
    // Header & Navigation
    'nav.signin': 'Sign In',
    'nav.logout': 'Logout',
    'nav.exit': 'Exit Dashboard',
    'nav.admin': 'Admin Access',
    'nav.newProduct': 'New Product',
    'nav.cart': 'Cart',
    'nav.hello': 'Hi',
    'nav.role.owner': 'Owner',
    'nav.role.seller': 'Seller',
    'nav.role.courier': 'Courier',
    'nav.role.customer': 'Customer',
    'nav.dashboard': 'Dashboard',
    'nav.customer_dash': 'My Account',
    'nav.jobs': 'Jobs',
    'nav.sell': 'Sell',

    // Admin Menu
    'admin.inventory': 'Inventory',
    'admin.inventory.global': 'Global Inventory',
    'admin.inventory.my': 'My Products',
    'admin.orders': 'Orders',
    'admin.crm': 'CRM',
    'admin.analytics': 'Analytics',
    'admin.sellers': 'Sellers',
    'admin.courier': 'Courier Dashboard',
    'admin.ai_agent': 'AI Sourcing',

    // Customer Dashboard
    'cust.title': 'My Account',
    'cust.subtitle': 'Track orders, manage addresses, and view purchase history.',
    'cust.tab.overview': 'Overview',
    'cust.tab.orders': 'Orders',
    'cust.tab.wishlist': 'Wishlist',
    'cust.tab.wallet': 'Wallet',
    'cust.tab.addresses': 'Addresses',
    'cust.tab.settings': 'Profile',
    'cust.stat.spent': 'Total Spent',
    'cust.stat.orders': 'Total Orders',
    'cust.stat.active': 'In Transit',
    'cust.recent_order': 'Live Delivery Tracking',
    'cust.track_pkg': 'Track Package',
    'cust.download_invoice': 'Download Invoice',
    'cust.buy_again': 'Buy Again',
    'cust.order_id': 'Order ID',
    'cust.date': 'Date',
    'cust.total': 'Total',
    'cust.status': 'Status',
    'cust.items': 'Items',
    'cust.addr.title': 'Saved Addresses',
    'cust.addr.add': 'Add New Address',
    'cust.addr.default': 'Default',
    'cust.settings.profile': 'Profile Information',
    'cust.settings.save': 'Save Changes',
    'cust.timeline.placed': 'Order Placed',
    'cust.timeline.confirmed': 'Confirmed',
    'cust.timeline.packed': 'Packed & Ready',
    'cust.timeline.pickup': 'Picked Up',
    'cust.timeline.transit': 'In Transit',
    'cust.timeline.delivered': 'Delivered',
    'cust.detail.courier': 'Courier Details',
    'cust.detail.payment': 'Payment Summary',
    'cust.detail.subtotal': 'Subtotal',
    'cust.detail.shipping': 'Shipping Cost',
    'cust.detail.tax': 'Tax',
    'cust.detail.total': 'Grand Total',
    'cust.wishlist.empty': 'Your wishlist is empty',
    'cust.wallet.add': 'Add New Card',
    'cust.wallet.expires': 'Expires',

    // Common Statuses
    'status.active': 'Active',
    'status.pending': 'Pending',
    'status.suspended': 'Suspended',
    'status.all': 'All Statuses',
    'status.paid': 'Paid',
    'status.due': 'Due',
    'status.processing': 'Processing',

    // Sellers View
    'sellers.title': 'Seller Management',
    'sellers.subtitle': 'Monitor vendor performance, manage payouts, and oversee store accounts.',
    'sellers.invite': 'Invite New Seller',
    'sellers.search_placeholder': 'Search sellers by name, store, or email...',
    'sellers.back': 'Back to Sellers List',
    'sellers.suspend': 'Suspend Account',
    'sellers.activate': 'Activate Account',
    'sellers.contact': 'Contact Seller',
    'sellers.member_since': 'Member since',
    'sellers.owner': 'Owner',
    'sellers.lifetime_rev': 'Lifetime Revenue',
    'sellers.last_month': 'vs last month',
    'sellers.tab.overview': 'Overview',
    'sellers.tab.financials': 'Financials',
    'sellers.tab.products': 'Products',
    'sellers.inv_health': 'Inventory Health',
    'sellers.total_skus': 'Total SKUs',
    'sellers.total_units': 'Total Units',
    'sellers.low_stock': 'Low Stock Alerts',
    'sellers.quality': 'Quality & Performance',
    'sellers.rating': 'Customer Rating',
    'sellers.return_rate': 'Return Rate',
    'sellers.payout_balance': 'Payout Balance',
    'sellers.funds_held': 'Funds currently held by Izitobuy',
    'sellers.release_payout': 'Release Payout Now',
    'sellers.trans_history': 'Transaction History (Last 3)',
    'sellers.weekly_payout': 'Weekly Payout',
    'sellers.account_details': 'Account Details',
    'sellers.plan': 'Plan',
    'sellers.last_payout': 'Last Payout',
    'sellers.bank': 'Bank Account',
    'sellers.public_store': 'Public Storefront',
    'sellers.view_store': 'View what customers see',
    'sellers.visit': 'Visit',
    'sellers.empty': 'No sellers found matching',

    // AI Importer
    'ai.title': 'AI Sourcing Agent',
    'ai.subtitle': 'Deep-search global catalog to extract rich product data and images.',
    'ai.input_label': 'Target Product Keyword / ASIN',
    'ai.placeholder': 'e.g. Sony WH-1000XM5',
    'ai.scanning': 'Scanning...',
    'ai.find': 'Find Product',
    'ai.terminal': 'AGENT_LIVE_TERMINAL',
    'ai.waiting': 'System ready. Waiting for input...',
    'ai.preview': 'Import Preview',
    'ai.no_image': 'No Image',
    'ai.source': 'Source',
    'ai.add_image': 'Add',
    'ai.paste_url': 'Paste new image URL...',
    'ai.ai_desc': 'AI Generated Description',
    'ai.rating': 'Rating',
    'ai.stock_est': 'Stock Est.',
    'ai.discard': 'Discard',
    'ai.import': 'Import Product',
    'ai.analyzing': 'Analyzing Global Catalog',
    'ai.analyzing_sub': 'Identifying product match, extracting images, and generating marketing copy...',
    'ai.idle_title': 'Waiting for Assignment',
    'ai.idle_msg': 'Enter a product name in the search bar to dispatch the AI agent.',
    'ai.badge.auto_image': 'Auto-Image',
    'ai.badge.copy': 'Benefit Copy',
    'ai.badge.specs': 'Specs Scraper',

    // Courier Dashboard
    'courier.title': 'IzitoGo Courier',
    'courier.hello': 'Hello',
    'courier.visible': 'You are visible to clients',
    'courier.hidden': 'You are hidden',
    'courier.online': 'Online',
    'courier.offline': 'Offline',
    'courier.busy': 'Busy (On Job)',
    'courier.available': 'Available',
    'courier.tabs.jobs': 'Job Feed',
    'courier.tabs.active': 'My Tasks',
    'courier.tabs.history': 'History',
    'courier.jobs.title': 'Available Opportunities',
    'courier.jobs.refresh': 'Refresh',
    'courier.jobs.offline_title': 'You are currently Offline',
    'courier.jobs.offline_msg': 'Go Online to see and accept available jobs.',
    'courier.jobs.go_online': 'Go Online',
    'courier.jobs.empty_title': 'No jobs available right now',
    'courier.jobs.empty_msg': 'Stay online. We\'ll alert you when a job appears.',
    'courier.card.items': 'Items',
    'courier.card.earnings': 'Earnings',
    'courier.card.pickup': 'Pickup From',
    'courier.card.deliver': 'Deliver To',
    'courier.card.accept': 'Accept Delivery',
    'courier.card.blocked': 'Finish your current delivery in a different area first.',
    'courier.card.on_route': 'On Route',
    'courier.active.no_tasks': 'No Active Tasks',
    'courier.active.find_jobs': 'Find Jobs',
    'courier.active.pickup_phase': 'Pickup Phase',
    'courier.active.delivery_phase': 'Delivery Phase',
    'courier.active.active_tag': 'Active',
    'courier.step.pickup': 'Pickup at Store',
    'courier.step.call': 'Call Store',
    'courier.step.deliver': 'Deliver to Customer',
    'courier.step.wait_pin': 'Wait for customer to provide secure PIN.',
    'courier.action.confirm_pickup': 'Confirm Pickup',
    'courier.action.enter_pin': 'Enter Customer PIN',
    'courier.action.complete': 'Complete Delivery',
    'courier.error.pin': 'Incorrect PIN. Ask customer for code.',
    'courier.history.earnings': 'Earnings Summary',
    'courier.history.total': 'Total',
    'courier.history.empty': 'No completed deliveries yet.',
    'courier.history.job_details': 'Job Details',
    'courier.history.date': 'Date',
    'courier.history.amount': 'Amount',
    'courier.alert.new_job': 'New Courier Job Available!',

    // Inventory View
    'inv.title_global': 'Global Catalog',
    'inv.title_my': 'My Inventory',
    'inv.subtitle_admin': 'Super Admin View: Managing inventory across ALL sellers.',
    'inv.subtitle_seller': 'Manage your stock levels, pricing, and product visibility.',
    'inv.search': 'Search by product name or SKU...',
    'inv.refresh': 'Refresh Data',
    'inv.export': 'Export CSV',
    'inv.generating': 'Generating...',
    'inv.view_public': 'View My Public Store',
    'inv.col.product': 'Product',
    'inv.col.seller': 'Seller',
    'inv.col.category': 'Category',
    'inv.col.price': 'Price',
    'inv.col.stock': 'Stock Level',
    'inv.col.status': 'Status',
    'inv.status.out': 'Out of Stock',
    'inv.status.low': 'Low Stock',
    'inv.status.in': 'In Stock',
    'inv.empty': 'No products found in inventory.',

    // Orders View
    'orders.title': 'Logistics Center',
    'orders.subtitle': 'Track dispatch, monitor courier assignment, and verify deliveries.',
    'orders.stats.pack': 'To Pack',
    'orders.stats.transit': 'In Transit',
    'orders.tab.all': 'All',
    'orders.tab.pack': 'To Pack',
    'orders.tab.transit': 'In Transit',
    'orders.tab.history': 'History',
    'orders.search': 'Search Order ID...',
    'orders.empty': 'No orders found',
    'orders.empty_sub': 'Try adjusting your filters.',
    'orders.col.id': 'Order ID',
    'orders.col.customer': 'Customer',
    'orders.col.status': 'Status',
    'orders.col.courier': 'Courier',
    'orders.col.security': 'Security',
    'orders.col.actions': 'Actions',
    'orders.status.new': 'New Order',
    'orders.status.waiting': 'Waiting Courier',
    'orders.status.assigned': 'Courier Assigned',
    'orders.status.transit': 'In Transit',
    'orders.status.delivered': 'Delivered',
    'orders.action.ready': 'Ready for Courier',
    'orders.action.print': 'Print Slip',
    'orders.detail.items': 'Order Items',
    'orders.detail.logistics': 'Delivery Logistics',
    'orders.detail.to': 'To (Customer)',
    'orders.detail.verification': 'Courier Verification',
    'orders.detail.pin_desc': 'Verify the courier\'s app matches this code before handing over goods:',
    
    // Storefront
    'store.latestArrivals': 'Latest Arrivals',
    'store.filters': 'Filters',
    'store.clearSearch': 'Clear Search',
    'store.noResults': 'No products found matching your criteria.',
    'store.outOfStockNotice': 'Some items you searched for are currently out of stock.',
    'store.outOfStockSub': 'We\'ve included them in the results above so you can request a notification when they arrive.',

    // Product Card
    'product.promo': 'Promo',
    'product.stock': 'Stock',
    'product.hidden': 'Out of Stock',
    'product.notify': 'Notify Me',

    // Filters
    'filter.category': 'Category',
    'filter.delivery': 'Delivery',
    'filter.price': 'Price',
    'filter.brand': 'Brand',
    'filter.color': 'Color',
    'filter.condition': 'Condition',
    'filter.seller': 'Seller',
    'filter.ratings': 'Customer Ratings',
    'filter.special': 'Special Offers',
    'filter.showMore': 'Show more',
    'filter.searchBrand': 'Search brand',
    
    'filter.opt.new': 'New',
    'filter.opt.used': 'Used / Refurbished',
    'filter.opt.proSeller': 'Pro Sellers',
    'filter.opt.freeShip': 'Free Delivery',
    'filter.opt.express': 'Express Delivery',
    'filter.opt.standard': 'Standard Shipping',

    // Controls
    'sort.nameAZ': 'Name (A-Z)',
    'sort.nameZA': 'Name (Z-A)',
    'sort.priceLow': 'Price (Low-High)',
    'sort.priceHigh': 'Price (High-Low)',
    'search.placeholder': 'Search products...',

    // Product Details
    'details.back': 'Back to Results',
    'details.description': 'Description',
    'details.specs': 'Technical Specs',
    'details.reviews': 'Reviews',
    'details.addToCart': 'Add to Cart',
    'details.quantity': 'Quantity',
    'details.soldBy': 'Sold & Shipped by',
    'details.deliveryInfo': 'Delivery Information',
    'details.deliveringTo': 'Delivering to',
    'details.freeDelivery': 'Free Delivery',
    'details.freeDeliverySub': 'For orders over',
    'details.getItBy': 'Get it by',
    'details.tomorrow': 'Tomorrow',
    'details.orderWithin': 'Order within',
    'details.returns': 'Free returns until Jan 31, 2026',
    'details.warranty': '2 Year Warranty Included',
    'details.financing': 'Pay in 4x',
    'details.ecoPart': 'eco-participation included',

    // Cart
    'cart.title': 'Shopping Cart',
    'cart.checkout': 'Checkout',
    'cart.subtotal': 'Subtotal',
    'cart.shipping': 'Shipping',
    'cart.total': 'Total',
    'cart.empty': 'Votre panier est vide',
    'cart.emptySub': 'Looks like you haven\'t added anything yet.',
    'cart.startShopping': 'Start Shopping',
    'cart.instructions': 'Special Instructions',
    'cart.loginToCheckout': 'Log In to Checkout',
    'cart.placeOrder': 'Place Order',
    'cart.success': 'Thank You!',
    'cart.successMsg': 'Your order has been placed successfully. We\'ve sent a confirmation email to',
    'cart.continue': 'Continue Shopping',

    // Payment
    'pay.method': 'Payment Method',
    'pay.cash': 'Cash on Delivery',
    'pay.fedapay': 'FedaPay (MTN, Moov, Cards)',
    'pay.payNow': 'Pay Now',
    'pay.processing': 'Opening FedaPay Secure Checkout...',
    'pay.secure_notice': 'You will be redirected to the secure FedaPay gateway to complete your payment via Mobile Money (MTN/Moov) or Credit Card.',

    // Auth
    'auth.signin': 'Sign In',
    'auth.createAccount': 'Create Account',
    'auth.welcome': 'Welcome Back',
    'auth.join': 'Join Izitobuy',
    'auth.signinSub': 'Sign in to access your orders and profile.',
    'auth.joinSub': 'Create an account to track orders and checkout faster.',
    'auth.name': 'Full Name',
    'auth.email': 'Email Address',
    'auth.password': 'Password',
    'auth.submitLogin': 'Sign In',
    'auth.submitRegister': 'Create Account',
    'auth.terms': 'By continuing, you agree to Izitobuy\'s Terms of Service.',
    'auth.role.customer': 'Customer',
    'auth.role.seller': 'Seller',
    'auth.role.courier': 'Courier',
    'auth.storeName': 'Store Name',
    'auth.vehicle': 'Vehicle Type',

    // Footer
    'footer.tagline': 'The high-tech and lifestyle reference. Discover our latest innovations and enjoy fast delivery across Europe.',
    'footer.newsletter': 'Newsletter',
    'footer.about': 'About Us',
    'footer.who': 'Who are we?',
    'footer.stores': 'Our Stores',
    'footer.careers': 'Careers',
    'footer.blog': 'Izitobuy Blog',
    'footer.csr': 'CSR Commitments',
    'footer.service': 'Customer Service',
    'footer.account': 'My Account',
    'footer.track': 'Track Order',
    'footer.returns': 'Returns & Refunds',
    'footer.help': 'Help & FAQ',
    'footer.terms': 'Terms of Sale',
    'footer.contact': 'Contact Us',
    'footer.rights': 'All rights reserved.',
    'footer.secure': 'Secure Payment',
    'footer.fastDelivery': 'Fast Delivery',
    'footer.installments': '3x or 4x Free of Charge',

    // Hero
    'hero.slide1.title': 'Capture the Impossible',
    'hero.slide1.subtitle': 'Next-gen drones with 8K stabilization. See the world from a new perspective.',
    'hero.slide1.cta': 'Discover Drones',
    'hero.slide2.title': 'Sound That Moves You',
    'hero.slide2.subtitle': 'Immersive noise-cancelling audio. Experience music exactly as the artist intended.',
    'hero.slide2.cta': 'Shop Audio',
    'hero.slide3.title': 'Level Up Your Game',
    'hero.slide3.subtitle': 'High-performance gear for the ultimate competitive edge. Speed, precision, victory.',
    'hero.slide3.cta': 'Gaming Gear',
    'hero.slide4.title': 'Smart Living, Simplified',
    'hero.slide4.subtitle': 'Automate your home with our eco-friendly smart ecosystem. Comfort meets efficiency.',
    'hero.slide4.cta': 'View Smart Home',
    'hero.slide5.title': 'Style for Every Season',
    'hero.slide5.subtitle': 'Upgrade your wardrobe with our latest collection. Trends that matter.',
    'hero.slide5.cta': 'Shop Fashion',
    'hero.slide6.title': 'Capture Every Moment',
    'hero.slide6.subtitle': 'Professional photography equipment for every skill level. Clarity in every shot.',
    'hero.slide6.cta': 'Explore Cameras',
    'hero.slide7.title': 'Train Like a Pro',
    'hero.slide7.subtitle': 'High-performance gear to reach your fitness goals. Push your limits.',
    'hero.slide7.cta': 'Shop Sports',
  },
  fr: {
    // Header & Navigation
    'nav.signin': 'Se connecter',
    'nav.logout': 'Déconnexion',
    'nav.exit': 'Quitter',
    'nav.admin': 'Admin',
    'nav.newProduct': 'Nouveau Produit',
    'nav.cart': 'Panier',
    'nav.hello': 'Bonjour',
    'nav.role.owner': 'Propriétaire',
    'nav.role.seller': 'Vendeur',
    'nav.role.courier': 'Coursier',
    'nav.role.customer': 'Client',
    'nav.dashboard': 'Tableau de bord',
    'nav.customer_dash': 'Mon Compte',
    'nav.jobs': 'Missions',
    'nav.sell': 'Vendre',

    // Admin Menu
    'admin.inventory': 'Inventaire',
    'admin.inventory.global': 'Catalogue Global',
    'admin.inventory.my': 'Mes Produits',
    'admin.orders': 'Commandes',
    'admin.crm': 'GRC',
    'admin.analytics': 'Analytique',
    'admin.sellers': 'Vendeurs',
    'admin.courier': 'Espace Coursier',
    'admin.ai_agent': 'Sourcing IA',

    // Customer Dashboard
    'cust.title': 'Mon Compte',
    'cust.subtitle': 'Gérez vos commandes, adresses et préférences.',
    'cust.tab.overview': 'Aperçu',
    'cust.tab.orders': 'Mes Commandes',
    'cust.tab.wishlist': 'Favoris',
    'cust.tab.wallet': 'Portefeuille',
    'cust.tab.addresses': 'Adresses',
    'cust.tab.settings': 'Paramètres',
    'cust.stat.spent': 'Total Dépensé',
    'cust.stat.orders': 'Total Commandes',
    'cust.stat.active': 'Livraisons Actives',
    'cust.recent_order': 'Suivi de Livraison Live',
    'cust.track_pkg': 'Suivre le Colis',
    'cust.download_invoice': 'Télécharger Facture',
    'cust.buy_again': 'Acheter à nouveau',
    'cust.order_id': 'ID Commande',
    'cust.date': 'Date',
    'cust.total': 'Total',
    'cust.status': 'Statut',
    'cust.items': 'Articles',
    'cust.addr.title': 'Carnet d\'Adresses',
    'cust.addr.add': 'Ajouter une adresse',
    'cust.addr.default': 'Défaut',
    'cust.settings.profile': 'Informations Profil',
    'cust.settings.save': 'Enregistrer',
    'cust.timeline.placed': 'Commande Passée',
    'cust.timeline.confirmed': 'Confirmée',
    'cust.timeline.packed': 'Prêt à partir',
    'cust.timeline.pickup': 'Ramassé',
    'cust.timeline.transit': 'En Transit',
    'cust.timeline.delivered': 'Livré',
    'cust.detail.courier': 'Détails Coursier',
    'cust.detail.payment': 'Résumé Paiement',
    'cust.detail.subtotal': 'Sous-total',
    'cust.detail.shipping': 'Frais de port',
    'cust.detail.tax': 'Taxes',
    'cust.detail.total': 'Total Global',
    'cust.wishlist.empty': 'Votre liste de favoris est vide',
    'cust.wallet.add': 'Ajouter une carte',
    'cust.wallet.expires': 'Expire le',

    // Common Statuses
    'status.active': 'Actif',
    'status.pending': 'En Attente',
    'status.suspended': 'Suspendu',
    'status.all': 'Tous',
    'status.paid': 'Payé',
    'status.due': 'Dû',
    'status.processing': 'Traitement',

    // Sellers View
    'sellers.title': 'Gestion des Vendeurs',
    'sellers.subtitle': 'Suivez les performances, gérez les paiements et les comptes boutiques.',
    'sellers.invite': 'Inviter Vendeur',
    'sellers.search_placeholder': 'Rechercher vendeur, boutique ou email...',
    'sellers.back': 'Retour à la liste',
    'sellers.suspend': 'Suspendre le Compte',
    'sellers.activate': 'Activer le Compte',
    'sellers.contact': 'Contacter',
    'sellers.member_since': 'Membre depuis',
    'sellers.owner': 'Propriétaire',
    'sellers.lifetime_rev': 'Revenu Total',
    'sellers.last_month': 'vs mois dernier',
    'sellers.tab.overview': 'Aperçu',
    'sellers.tab.financials': 'Finances',
    'sellers.tab.products': 'Produits',
    'sellers.inv_health': 'Santé Stocks',
    'sellers.total_skus': 'Total SKUs',
    'sellers.total_units': 'Total Unités',
    'sellers.low_stock': 'Alertes Stock Faible',
    'sellers.quality': 'Qualité & Perf.',
    'sellers.rating': 'Note Client',
    'sellers.return_rate': 'Taux Retour',
    'sellers.payout_balance': 'Solde à Reverser',
    'sellers.funds_held': 'Fonds détenus par Izitobuy',
    'sellers.release_payout': 'Effectuer Virement',
    'sellers.trans_history': 'Historique Transactions (3 derniers)',
    'sellers.weekly_payout': 'Virement Hebdo',
    'sellers.account_details': 'Détails Compte',
    'sellers.plan': 'Plan',
    'sellers.last_payout': 'Dernier Virement',
    'sellers.bank': 'Compte Bancaire',
    'sellers.public_store': 'Boutique Publique',
    'sellers.view_store': 'Voir la boutique client',
    'sellers.visit': 'Visiter',
    'sellers.empty': 'Aucun vendeur trouvé pour',

    // AI Importer
    'ai.title': 'Agent Sourcing IA',
    'ai.subtitle': 'Recherche profonde catalogue global pour extraire données et images.',
    'ai.input_label': 'Mot-clé Produit / ASIN',
    'ai.placeholder': 'ex: Sony WH-1000XM5',
    'ai.scanning': 'Recherche...',
    'ai.find': 'Trouver Produit',
    'ai.terminal': 'TERMINAL_AGENT_LIVE',
    'ai.waiting': 'Système prêt. En attente...',
    'ai.preview': 'Aperçu Import',
    'ai.no_image': 'Pas d\'image',
    'ai.source': 'Source',
    'ai.add_image': 'Ajouter',
    'ai.paste_url': 'Coller URL image...',
    'ai.ai_desc': 'Description Générée par IA',
    'ai.rating': 'Note',
    'ai.stock_est': 'Est. Stock',
    'ai.discard': 'Annuler',
    'ai.import': 'Importer le Produit',
    'ai.analyzing': 'Analyse du Catalogue Global',
    'ai.analyzing_sub': 'Identification du produit, extraction images et rédaction marketing...',
    'ai.idle_title': 'En attente de mission',
    'ai.idle_msg': 'Entrez un nom de produit dans la barre de recherche pour lancer l\'agent IA.',
    'ai.badge.auto_image': 'Image-Auto',
    'ai.badge.copy': 'Copywriting',
    'ai.badge.specs': 'Scraper Specs',

    // Courier Dashboard
    'courier.title': 'IzitoGo Coursier',
    'courier.hello': 'Bonjour',
    'courier.visible': 'Vous êtes visible pour les clients',
    'courier.hidden': 'Vous êtes masqué',
    'courier.online': 'En ligne',
    'courier.offline': 'Hors ligne',
    'courier.busy': 'Occupé (En course)',
    'courier.available': 'Disponible',
    'courier.tabs.jobs': 'Missions',
    'courier.tabs.active': 'Tâches',
    'courier.tabs.history': 'Historique',
    'courier.jobs.title': 'Opportunités Disponibles',
    'courier.jobs.refresh': 'Actualiser',
    'courier.jobs.offline_title': 'Vous êtes Hors ligne',
    'courier.jobs.offline_msg': 'Passez en ligne pour voir et accepter les missions.',
    'courier.jobs.go_online': 'Passer En ligne',
    'courier.jobs.empty_title': 'Aucune mission disponible',
    'courier.jobs.empty_msg': 'Restez en ligne. Nous vous alerterons.',
    'courier.card.items': 'Articles',
    'courier.card.earnings': 'Gains',
    'courier.card.pickup': 'Retrait',
    'courier.card.deliver': 'Livraison',
    'courier.card.accept': 'Accepter la livraison',
    'courier.card.blocked': 'Terminez votre livraison actuelle dans une autre zone.',
    'courier.card.on_route': 'Sur la route',
    'courier.active.no_tasks': 'Aucune tâche active',
    'courier.active.find_jobs': 'Trouver des missions',
    'courier.active.pickup_phase': 'Phase de Retrait',
    'courier.active.delivery_phase': 'Phase de Livraison',
    'courier.active.active_tag': 'Actif',
    'courier.step.pickup': 'Retrait en magasin',
    'courier.step.call': 'Appeler',
    'courier.step.deliver': 'Livrer au Client',
    'courier.step.wait_pin': 'Attendez le code PIN du client.',
    'courier.action.confirm_pickup': 'Confirmer le Retrait',
    'courier.action.enter_pin': 'Entrer PIN Client',
    'courier.action.complete': 'Terminer Livraison',
    'courier.error.pin': 'PIN incorrect. Demandez le code au client.',
    'courier.history.earnings': 'Résumé des Gains',
    'courier.history.total': 'Total',
    'courier.history.empty': 'Aucune livraison terminée.',
    'courier.history.job_details': 'Détails Mission',
    'courier.history.date': 'Date',
    'courier.history.amount': 'Montant',
    'courier.alert.new_job': 'Nouvelle Mission Coursier !',

    // Inventory View
    'inv.title_global': 'Catalogue Global',
    'inv.title_my': 'Inventaire',
    'inv.subtitle_admin': 'Vue Super Admin : Gestion globale de l\'inventaire.',
    'inv.subtitle_seller': 'Gérez vos stocks, prix et visibilité.',
    'inv.search': 'Rechercher produit ou SKU...',
    'inv.refresh': 'Actualiser',
    'inv.export': 'Exporter CSV',
    'inv.generating': 'Génération...',
    'inv.view_public': 'Voir Ma Boutique Publique',
    'inv.col.product': 'Produit',
    'inv.col.seller': 'Vendeur',
    'inv.col.category': 'Catégorie',
    'inv.col.price': 'Prix',
    'inv.col.stock': 'Stock',
    'inv.col.status': 'Statut',
    'inv.status.out': 'Épuisé',
    'inv.status.low': 'Stock Faible',
    'inv.status.in': 'En Stock',
    'inv.empty': 'Aucun produit trouvé.',

    // Orders View
    'orders.title': 'Centre Logistique',
    'orders.subtitle': 'Suivi des expéditions, coursiers et livraisons.',
    'orders.stats.pack': 'A préparer',
    'orders.stats.transit': 'En transit',
    'orders.tab.all': 'Tout',
    'orders.tab.pack': 'A préparer',
    'orders.tab.transit': 'En transit',
    'orders.tab.history': 'Historique',
    'orders.search': 'Rechercher ID Commande...',
    'orders.empty': 'Aucune commande',
    'orders.empty_sub': 'Essayez d\'ajuster vos filtres.',
    'orders.col.id': 'ID',
    'orders.col.customer': 'Client',
    'orders.col.status': 'Statut',
    'orders.col.courier': 'Coursier',
    'orders.col.security': 'Sécurité',
    'orders.col.actions': 'Actions',
    'orders.status.new': 'Nouvelle',
    'orders.status.waiting': 'Attente Coursier',
    'orders.status.assigned': 'Coursier Assigné',
    'orders.status.transit': 'En Transit',
    'orders.status.delivered': 'Livrée',
    'orders.action.ready': 'Prêt pour Coursier',
    'orders.action.print': 'Imprimer',
    'orders.detail.items': 'Articles',
    'orders.detail.logistics': 'Logistique',
    'orders.detail.to': 'Vers (Client)',
    'orders.detail.verification': 'Vérification Coursier',
    'orders.detail.pin_desc': 'Vérifiez que le coursier a ce code :',

    // Hero
    'hero.slide1.title': 'Capturez l\'Impossible',
    'hero.slide1.subtitle': 'Drones nouvelle génération avec stabilisation 8K. Voyez le monde sous un nouvel angle.',
    'hero.slide1.cta': 'Découvrir les Drones',
    'hero.slide2.title': 'Le Son qui vous Transporte',
    'hero.slide2.subtitle': 'Audio immersif à réduction de bruit. Vivez la musique exactement comme l\'artiste l\'a imaginé.',
    'hero.slide2.cta': 'Boutique Audio',
    'hero.slide3.title': 'Passez au Niveau Supérieur',
    'hero.slide3.subtitle': 'Équipement haute performance pour l\'avantage compétitif ultime. Vitesse, précision, victoire.',
    'hero.slide3.cta': 'Équipement Gaming',
    'hero.slide4.title': 'Maison Intelligente, Simplifiée',
    'hero.slide4.subtitle': 'Automatisez votre maison avec notre écosystème éco-responsable. Le confort rencontre l\'efficacité.',
    'hero.slide4.cta': 'Voir Maison Connectée',
    'hero.slide5.title': 'Le Style pour Chaque Saison',
    'hero.slide5.subtitle': 'Mettez à jour votre garde-robe avec notre dernière collection. Les tendances qui comptent.',
    'hero.slide5.cta': 'Mode & Accessoires',
    'hero.slide6.title': 'Capturez Chaque Instant',
    'hero.slide6.subtitle': 'Équipement de photographie professionnel pour tous les niveaux. La clarté à chaque prise.',
    'hero.slide6.cta': 'Explorer les Caméras',
    'hero.slide7.title': 'Entraînez-vous comme un Pro',
    'hero.slide7.subtitle': 'Équipement haute performance pour atteindre vos objectifs fitness. Repoussez vos limites.',
    'hero.slide7.cta': 'Boutique Sport',

    // Storefront
    'store.latestArrivals': 'Dernières Arrivées',
    'store.filters': 'Filtres',
    'store.clearSearch': 'Effacer la recherche',
    'store.noResults': 'Aucun produit ne correspond à vos critères.',
    'store.outOfStockNotice': 'Certains articles recherchés sont actuellement en rupture de stock.',
    'store.outOfStockSub': 'Nous les avons inclus ci-dessus pour que vous puissiez demander une notification à leur arrivée.',

    // Product Card
    'product.promo': 'Promo',
    'product.stock': 'Stock',
    'product.hidden': 'Rupture',
    'product.notify': 'M\'alerter',

    // Filters
    'filter.category': 'Catégorie',
    'filter.delivery': 'Livraison',
    'filter.price': 'Prix',
    'filter.brand': 'Marque',
    'filter.color': 'Couleur',
    'filter.condition': 'État',
    'filter.seller': 'Vendeur',
    'filter.ratings': 'Avis Clients',
    'filter.special': 'Offres Spéciales',
    'filter.showMore': 'Afficher plus',
    'filter.searchBrand': 'Rechercher une marque',
    
    'filter.opt.new': 'Neuf',
    'filter.opt.used': 'Occasion / Reconditionné',
    'filter.opt.proSeller': 'Vendeurs Pro',
    'filter.opt.freeShip': 'Livraison Gratuite',
    'filter.opt.express': 'Livraison Express',
    'filter.opt.standard': 'Livraison Standard',

    // Controls
    'sort.nameAZ': 'Nom (A-Z)',
    'sort.nameZA': 'Nom (Z-A)',
    'sort.priceLow': 'Prix (Croissant)',
    'sort.priceHigh': 'Prix (Décroissant)',
    'search.placeholder': 'Rechercher des produits...',

    // Product Details
    'details.back': 'Retour aux résultats',
    'details.description': 'Description',
    'details.specs': 'Spécifications Techniques',
    'details.reviews': 'Avis',
    'details.addToCart': 'Ajouter au Panier',
    'details.quantity': 'Quantité',
    'details.soldBy': 'Vendu & Expédié par',
    'details.deliveryInfo': 'Informations de Livraison',
    'details.deliveringTo': 'Livraison à',
    'details.freeDelivery': 'Livraison Gratuite',
    'details.freeDeliverySub': 'Pour les commandes de plus de',
    'details.getItBy': 'Recevez-le',
    'details.tomorrow': 'Demain',
    'details.orderWithin': 'Commandez dans',
    'details.returns': 'Retours gratuits jusqu\'au 31 Jan 2026',
    'details.warranty': 'Garantie 2 ans incluse',
    'details.financing': 'Payer en 4x',
    'details.ecoPart': 'éco-participation incluse',

    // Cart
    'cart.title': 'Mon Panier',
    'cart.checkout': 'Commander',
    'cart.subtotal': 'Sous-total',
    'cart.shipping': 'Livraison',
    'cart.total': 'Total',
    'cart.empty': 'Votre panier est vide',
    'cart.emptySub': 'On dirait que vous n\'avez rien ajouté pour l\'instant.',
    'cart.startShopping': 'Commencer mes achats',
    'cart.instructions': 'Instructions Spéciales',
    'cart.loginToCheckout': 'Se connecter pour commander',
    'cart.placeOrder': 'Valider la commande',
    'cart.success': 'Merci !',
    'cart.successMsg': 'Votre commande a été passée avec succès. Nous avons envoyé un email de confirmation à',
    'cart.continue': 'Continuer mes achats',

    // Payment
    'pay.method': 'Moyen de Paiement',
    'pay.cash': 'Paiement à la livraison',
    'pay.fedapay': 'FedaPay (MTN, Moov, Cartes)',
    'pay.payNow': 'Payer maintenant',
    'pay.processing': 'Ouverture du paiement sécurisé FedaPay...',
    'pay.secure_notice': 'Vous allez être redirigé vers la passerelle sécurisée FedaPay pour finaliser votre paiement par Mobile Money (MTN/Moov) ou Carte Bancaire.',

    // Auth
    'auth.signin': 'Se connecter',
    'auth.createAccount': 'Créer un compte',
    'auth.welcome': 'Bon retour',
    'auth.join': 'Rejoindre Izitobuy',
    'auth.signinSub': 'Connectez-vous pour accéder à vos commandes et profil.',
    'auth.joinSub': 'Créez un compte pour suivre vos commandes plus rapidement.',
    'auth.name': 'Nom Complet',
    'auth.email': 'Adresse Email',
    'auth.password': 'Mot de passe',
    'auth.submitLogin': 'Se connecter',
    'auth.submitRegister': 'Créer un compte',
    'auth.terms': 'En continuant, vous acceptez les Conditions d\'Utilisation d\'Izitobuy.',
    'auth.role.customer': 'Client',
    'auth.role.seller': 'Vendeur',
    'auth.role.courier': 'Coursier',
    'auth.storeName': 'Nom de la Boutique',
    'auth.vehicle': 'Type de Véhicule',

    // Footer
    'footer.tagline': 'La référence high-tech et lifestyle. Découvrez nos dernières innovations et profitez d\'une livraison rapide partout en Europe.',
    'footer.newsletter': 'Newsletter',
    'footer.about': 'A propos',
    'footer.who': 'Qui sommes-nous ?',
    'footer.stores': 'Nos magasins',
    'footer.careers': 'Carrières',
    'footer.blog': 'Blog Izitobuy',
    'footer.csr': 'Engagements RSE',
    'footer.service': 'Service Client',
    'footer.account': 'Mon compte',
    'footer.track': 'Suivre ma commande',
    'footer.returns': 'Retours & Remboursements',
    'footer.help': 'Aide & FAQ',
    'footer.terms': 'Conditions Générales de Vente',
    'footer.contact': 'Nous contacter',
    'footer.rights': 'Tous droits réservés.',
    'footer.secure': 'Paiement Sécurisé',
    'footer.fastDelivery': 'Livraison Rapide',
    'footer.installments': '3x ou 4x sans frais'
  }
};

const I18nContext = createContext<I18nContextType | undefined>(undefined);

export const I18nProvider: React.FC<{ children: ReactNode }> = ({ children }) => {
  const [language, setLanguage] = useState<Language>('en');
  const [currency, setCurrency] = useState<Currency>('USD');

  const t = useCallback((key: string): string => {
    return TRANSLATIONS[language][key] || key;
  }, [language]);

  const formatPrice = useCallback((amount: number): string => {
    const rate = RATES[currency];
    const converted = amount * rate;
    const symbol = SYMBOLS[currency];
    
    // Format FCFA without decimals if desired, or keep standard
    if (currency === 'XOF') {
        return `${symbol}${Math.round(converted).toLocaleString('en-US')}`; 
    }
    
    return `${symbol}${converted.toFixed(2)}`;
  }, [currency]);

  return (
    <I18nContext.Provider value={{ language, currency, setLanguage, setCurrency, t, formatPrice }}>
      {children}
    </I18nContext.Provider>
  );
};

export const useI18n = () => {
  const context = useContext(I18nContext);
  if (context === undefined) {
    throw new Error('useI18n must be used within an I18nProvider');
  }
  return context;
};
